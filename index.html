<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√∂pp√§ys - Helader√≠a Gourmet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap');
        
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-inter { font-family: 'Inter', sans-serif; }
        
        .category-cremosos { background: linear-gradient(135deg, #FE6B01 0%, #ff8533 100%); }
        .category-frutales { background: linear-gradient(135deg, #FCFFF6 0%, #f0f7e8 100%); border: 3px solid #FE6B01; }
        
        .item-card:hover { transform: translateY(-2px); }
        .quantity-btn:hover { transform: scale(1.1); }
        
        .order-summary {
            position: sticky;
            top: 2rem;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }
        
        .brand-accent { color: #FE6B01; }
        .brand-secondary { color: #FCFFF6; }
        .bg-brand-primary { background-color: #FE6B01; }
        .bg-brand-secondary { background-color: #FCFFF6; }
        .border-brand-primary { border-color: #FE6B01; }
        .ice-cream-shape {
            width: 20px;
            height: 20px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            display: inline-block;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-orange-50 to-yellow-50 font-inter">
    <div class="min-h-screen">
        <header class="bg-brand-secondary shadow-sm border-b-4 border-brand-primary">
            <div class="max-w-7xl mx-auto px-4 py-8">
                <h1 class="text-6xl font-black text-center text-white" style="font-family: Arial, sans-serif; background: linear-gradient(45deg, #FE6B01, #ff8533); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); font-weight: 900;">T√∂pp√§ys</h1>
                <p class="text-center text-orange-800 mt-3 font-medium text-lg">Helader√≠a Gourmet ‚Ä¢ Experiencia √önica</p>
                <p class="text-center brand-accent mt-2 font-bold text-xl">üìû 0412-9843410</p>
                <div class="flex justify-center mt-4 space-x-2">
                    <div class="ice-cream-shape bg-gradient-to-b from-orange-300 to-orange-500"></div>
                    <div class="ice-cream-shape bg-gradient-to-b from-yellow-300 to-orange-400"></div>
                    <div class="ice-cream-shape bg-gradient-to-b from-orange-400 to-red-500"></div>
                </div>
                <div class="mt-4 text-center">
                    <p class="text-orange-700 text-sm font-medium bg-orange-50 inline-block px-4 py-2 rounded-full border border-orange-200">
                        üí∞ 10% descuento en pedidos de 5+ helados ‚Ä¢ Solo ventas de contado
                    </p>
                </div>
            </div>
        </header>

        <div class="max-w-7xl mx-auto px-4 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <section class="mb-12">
                        <div class="category-cremosos rounded-xl p-8 mb-6 shadow-lg">
                            <h2 class="font-playfair text-4xl font-semibold text-white mb-3">üç¶ Helados Cremosos</h2>
                            <p class="text-orange-100 font-light text-lg">Texturas suaves y sabores intensos para el paladar m√°s exigente</p>
                            <div class="mt-4 flex items-center">
                                <span class="bg-white bg-opacity-20 px-4 py-2 rounded-full text-white font-semibold">$1.00 cada uno</span>
                            </div>
                        </div>
                        
                        <div class="grid gap-6">
                            <div class="item-card bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all duration-300 hover:shadow-xl">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="font-playfair text-2xl font-semibold text-gray-800">Oreo</h3>
                                    <span class="brand-accent font-bold text-xl">$1.00</span>
                                </div>
                                <p class="text-gray-600 mb-6 text-base">Cremoso helado con trozos de galleta Oreo, perfecto equilibrio entre dulce y crujiente</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4">
                                        <button class="quantity-btn bg-gray-200 hover:bg-gray-300 rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('oreo', -1)">-</button>
                                        <span id="oreo-qty" class="font-bold text-lg min-w-[30px] text-center">0</span>
                                        <button class="quantity-btn bg-brand-primary hover:bg-orange-600 text-white rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('oreo', 1)">+</button>
                                    </div>
                                    <div class="ice-cream-shape bg-gradient-to-b from-gray-700 to-gray-900"></div>
                                </div>
                            </div>

                            <div class="item-card bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all duration-300 hover:shadow-xl">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="font-playfair text-2xl font-semibold text-gray-800">Pie de Lim√≥n</h3>
                                    <span class="brand-accent font-bold text-xl">$1.00</span>
                                </div>
                                <p class="text-gray-600 mb-6 text-base">Delicioso sabor a pie de lim√≥n con notas c√≠tricas refrescantes y cremosidad √∫nica</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4">
                                        <button class="quantity-btn bg-gray-200 hover:bg-gray-300 rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('pielimon', -1)">-</button>
                                        <span id="pielimon-qty" class="font-bold text-lg min-w-[30px] text-center">0</span>
                                        <button class="quantity-btn bg-brand-primary hover:bg-orange-600 text-white rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('pielimon', 1)">+</button>
                                    </div>
                                    <div class="ice-cream-shape bg-gradient-to-b from-yellow-300 to-yellow-500"></div>
                                </div>
                            </div>

                            <div class="item-card bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all duration-300 hover:shadow-xl">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="font-playfair text-2xl font-semibold text-gray-800">Pie de Parchita</h3>
                                    <span class="brand-accent font-bold text-xl">$1.00</span>
                                </div>
                                <p class="text-gray-600 mb-6 text-base">Ex√≥tico sabor tropical de parchita en textura cremosa, una experiencia gourmet √∫nica</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4">
                                        <button class="quantity-btn bg-gray-200 hover:bg-gray-300 rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('pieparchita', -1)">-</button>
                                        <span id="pieparchita-qty" class="font-bold text-lg min-w-[30px] text-center">0</span>
                                        <button class="quantity-btn bg-brand-primary hover:bg-orange-600 text-white rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('pieparchita', 1)">+</button>
                                    </div>
                                    <div class="ice-cream-shape bg-gradient-to-b from-orange-400 to-orange-600"></div>
                                </div>
                            </div>

                            <div class="item-card bg-white rounded-xl shadow-lg border border-gray-100 p-6 transition-all duration-300 hover:shadow-xl">
                                <div class="flex justify-between items-start mb-4">
                                    <h3 class="font-playfair text-2xl font-semibold text-gray-800">Chocolate</h3>
                                    <span class="brand-accent font-bold text-xl">$1.00</span>
                                </div>
                                <p class="text-gray-600 mb-6 text-base">Cl√°sico helado de chocolate premium, intenso y cremoso para los verdaderos conocedores</p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4">
                                        <button class="quantity-btn bg-gray-200 hover:bg-gray-300 rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('chocolate', -1)">-</button>
                                        <span id="chocolate-qty" class="font-bold text-lg min-w-[30px] text-center">0</span>
                                        <button class="quantity-btn bg-brand-primary hover:bg-orange-600 text-white rounded-full w-10 h-10 flex items-center justify-center transition-all font-semibold" onclick="updateQuantity('chocolate', 1)">+</button>
                                    </div>
                                    <div class="ice-cream-shape bg-gradient-to-b from-amber-800 to-amber-900"></div>
                                </div>
                            </div>
                        </div>
                    </section>

                    </div>

                <div class="lg:col-span-1">
                    <div class="order-summary bg-white rounded-xl shadow-xl border border-gray-100 p-8">
                        <h3 class="font-playfair text-3xl font-semibold brand-accent mb-6">Tu Pedido</h3>
                        
                        <div class="mb-8 p-6 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl border-2 border-orange-100">
                            <h4 class="font-semibold text-gray-800 mb-4 text-lg">üöö M√©todo de Entrega</h4>
                            <div class="grid grid-cols-2 gap-3">
                                <button id="pickup-btn" class="delivery-option flex flex-col items-center p-4 rounded-lg border-2 border-orange-200 bg-white hover:bg-orange-50 transition-all duration-300 cursor-pointer" onclick="selectDeliveryMethod('pickup')">
                                    <div class="text-2xl mb-2">üè™</div>
                                    <span class="font-semibold text-gray-800">Pick Up</span>
                                    <span class="text-sm text-gray-600 text-center mt-1">Recoger en tienda</span>
                                </button>
                                <button id="delivery-btn" class="delivery-option flex flex-col items-center p-4 rounded-lg border-2 border-orange-200 bg-white hover:bg-orange-50 transition-all duration-300 cursor-pointer" onclick="selectDeliveryMethod('delivery')">
                                    <div class="text-2xl mb-2">üöö</div>
                                    <span class="font-semibold text-gray-800">Delivery</span>
                                    <span class="text-sm text-gray-600 text-center mt-1">Env√≠o a domicilio</span>
                                </button>
                            </div>
                            <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                <p class="text-blue-800 text-sm font-medium mb-2">üìç Informaci√≥n de Delivery:</p>
                                <p class="text-blue-700 text-xs leading-relaxed">
                                    Si la distancia desde el local al punto de entrega es menor a dos kil√≥metros, el delivery ser√° gratuito a partir de tres unidades.
                                    De tener el punto de entrega una distancia mayor o de ser un pedido de menor cantidad, el precio del Delivery ser√° propuesto por la secci√≥n de "Mandaditos" de Yummy app.
                                </p>
                            </div>
                        </div>
                        
                        <div id="order-items" class="space-y-4 mb-8">
                            <div class="text-center py-12">
                                <div class="ice-cream-shape bg-gradient-to-b from-orange-300 to-orange-500 mx-auto mb-4"></div>
                                <p class="text-gray-500 text-lg">Selecciona tus helados favoritos</p>
                            </div>
                        </div>
                        <div class="border-t border-gray-200 pt-6">
                            <div class="flex justify-between items-center text-2xl font-bold mb-6">
                                <span class="text-gray-800">Total:</span>
                                <span id="total-price" class="brand-accent">$0.00</span>
                            </div>
                            <button id="whatsapp-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 flex items-center justify-center space-x-3 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed" onclick="sendWhatsAppOrder()" disabled>
                                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
                                </svg>
                                <span>Enviar Pedido por WhatsApp</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Order management
        let order = {};
        let selectedDeliveryMethod = null;
        let menuItems = {
            // Cremosos - $1.00
            oreo: { name: 'Oreo', price: 1.00, category: 'cremoso' },
            pielimon: { name: 'Pie de Lim√≥n', price: 1.00, category: 'cremoso' },
            pieparchita: { name: 'Pie de Parchita', price: 1.00, category: 'cremoso' },
            chocolate: { name: 'Chocolate', price: 1.00, category: 'cremoso' }
            // REMOVED: cappuoreo: { name: 'Cappu-Oreo', price: 1.00, category: 'cremoso' },
            // REMOVED: trululu: { name: 'Trulul√∫', price: 1.00, category: 'cremoso' },
            // REMOVED: Frutales - $0.65
            // REMOVED: parchita: { name: 'Parchita', price: 0.65, category: 'frutal' },
            // REMOVED: fresa: { name: 'Fresa', price: 0.65, category: 'frutal' },
            // REMOVED: mango: { name: 'Mango', price: 0.65, category: 'frutal' }
        };

        function updateQuantity(itemId, change) {
            if (!order[itemId]) {
                order[itemId] = { quantity: 0 };
            }
            
            order[itemId].quantity = Math.max(0, order[itemId].quantity + change);
            if (order[itemId].quantity === 0) {
                delete order[itemId];
            }
            
            document.getElementById(itemId + '-qty').textContent = order[itemId] ? order[itemId].quantity : 0;
            updateOrderSummary();
        }

        function selectDeliveryMethod(method) {
            selectedDeliveryMethod = method;
            // Update button styles
            document.getElementById('pickup-btn').classList.remove('selected');
            document.getElementById('delivery-btn').classList.remove('selected');
            document.getElementById(method + '-btn').classList.add('selected');
            updateOrderSummary();
        }

        function updateOrderSummary() {
            const orderItemsDiv = document.getElementById('order-items');
            const totalPriceSpan = document.getElementById('total-price');
            
            if (Object.keys(order).length === 0) {
                orderItemsDiv.innerHTML = `
                    <div class="text-center py-12">
                        <div class="ice-cream-shape bg-gradient-to-b from-orange-300 to-orange-500 mx-auto mb-4"></div>
                        <p class="text-gray-500 text-lg">Selecciona tus helados favoritos</p>
                    </div>
                `;
                totalPriceSpan.textContent = '$0.00';
                return;
            }
            
            let html = '';
            let total = 0;
            let totalQuantity = 0;
            
            for (const [itemId, orderItem] of Object.entries(order)) {
                if (orderItem.quantity > 0) {
                    const menuItem = menuItems[itemId];
                    const itemTotal = menuItem.price * orderItem.quantity;
                    
                    const categoryColor = menuItem.category === 'cremoso' ? 'brand-accent' : 'text-green-600';
                    const categoryIcon = menuItem.category === 'cremoso' ? 'üç¶' : 'üçì';
                    html += `
                        <div class="flex justify-between items-start bg-gray-50 rounded-lg p-4">
                            <div class="flex-1">
                                <p class="font-semibold text-gray-800 text-lg">${categoryIcon} ${menuItem.name}</p>
                                <p class="text-gray-600">Cantidad: ${orderItem.quantity}</p>
                            </div>
                            <span class="font-bold text-lg ${categoryColor}">$${itemTotal.toFixed(2)}</span>
                        </div>
                    `;
                    total += itemTotal;
                    totalQuantity += orderItem.quantity;
                }
            }
            
            // Apply 10% discount if 5 or more items
            let finalTotal = total;
            let discountHtml = '';
            
            if (totalQuantity >= 5) {
                const discount = total * 0.10;
                finalTotal = total - discount;
                discountHtml = `
                    <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
                        <p class="text-green-700 font-semibold text-sm">üéâ ¬°Descuento del 10%!</p>
                        <p class="text-green-600 text-sm">5+ helados: -$${discount.toFixed(2)}</p>
                        <p class="text-green-600 text-xs">*Solo ventas de contado*</p>
                    </div>
                `;
            }
            
            orderItemsDiv.innerHTML = html + discountHtml;
            totalPriceSpan.textContent = '$' + finalTotal.toFixed(2);
            
            // Enable/disable WhatsApp button
            const whatsappBtn = document.getElementById('whatsapp-btn');
            whatsappBtn.disabled = totalQuantity === 0 || !selectedDeliveryMethod;
        }

        function sendWhatsAppOrder() {
            if (Object.keys(order).length === 0 || !selectedDeliveryMethod) return;
            let message = "*PEDIDO TOPPAYS*\n\n";
            
            // Add delivery method
            const deliveryText = selectedDeliveryMethod === 'pickup' ? 'PICK UP (Recoger en tienda)' : 'DELIVERY (Env√≠o a domicilio)';
            message += `*M√©todo de entrega:* ${deliveryText}\n\n`;
            let total = 0;
            let totalQuantity = 0;
            
            // Add items to message
            for (const [itemId, orderItem] of Object.entries(order)) {
                if (orderItem.quantity > 0) {
                    const menuItem = menuItems[itemId];
                    const itemTotal = menuItem.price * orderItem.quantity;
                    const categoryIcon = menuItem.category === 'cremoso' ? 'CREMOSO' : 'FRUTAL';
                    message += `${categoryIcon} - *${menuItem.name}*\n`;
                    message += `   Cantidad: ${orderItem.quantity}\n`;
                    message += `   Subtotal: $${itemTotal.toFixed(2)}\n\n`;
                    total += itemTotal;
                    totalQuantity += orderItem.quantity;
                }
            }
            
            // Apply discount if applicable
            let finalTotal = total;
            if (totalQuantity >= 5) {
                const discount = total * 0.10;
                finalTotal = total - discount;
                message += `*DESCUENTO DEL 10%*\n`;
                message += `Subtotal: $${total.toFixed(2)}\n`;
                message += `Descuento: -$${discount.toFixed(2)}\n`;
                message += `*Solo ventas de contado*\n\n`;
            }
            
            message += `*TOTAL: $${finalTotal.toFixed(2)}*\n\n`;
            message += `Confirmar pedido al: 0412-9843410`;
            
            // Create WhatsApp URL
            const phoneNumber = "584129843410"; // Venezuelan format for WhatsApp
            const whatsappUrl = `whatsapp://send?phone=${phoneNumber}&text=${encodeURIComponent(message)}`;
            // Try to open WhatsApp app first, fallback to web if needed
            window.location.href = whatsappUrl;
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96611df1b4211b0d',t:'MTc1MzY3MTUyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
